## uni安全加固简介
> uni安全加固相关功能建议或问题，可以加入uni-im交流群进行讨论，[点此加入](https://im.dcloud.net.cn/#/?joinGroup=64cb6a4e8f0d19117baf79cd)

> iOS App加固需求 [点此咨询](https://dev.dcloud.net.cn/pages/app-safe/ios-safe-group)

uni安全加固是DCloud联合业内主流安全厂商提供的移动App安全加固技术。

uni安全加固对移动App进行安全性增强，旨在防止应用程序被破解、篡改或重打包等各类安全破坏。它的作用是保护应用程序的安全性和用户的隐私，提高应用程序的抗攻击能力和可靠性。

uni安全加固目前仅支持Android App，后续会扩展到iOS App及小程序平台。

uni安全加固目前已上线腾讯云版、蚂蚁⼩程序云版。

## 功能介绍

uni安全加固在Android平台支持如下加固方案：
- 腾讯云版
![](https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/app-reinforce/20230822005.png)

- 蚂蚁⼩程序云版
![](https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/app-reinforce/20230822006.png)

## 应用场景

### 上线前安全加固

App 开发完毕直接上线，可能存在代码泄露风险，通过 dex 整体加壳加固，有效保护应用代码安全，提高企业 App 被逆向、破解的难度。

### 防止应用被二次打包

未经安全防护的 App 易被攻击者获取代码信息，制造仿冒应用，采用签名校验、防重打包等加固技术，有效防止应用被二次打包后投放应用市场。

### 敏感数据保护

敏感数据信息、核心算法逻辑、版本内容等需要进行保护，移动应用安全推出的安全加固支持本地资源加密，有效防止攻击者窃取用户敏感数据。

## 计费规则

分为测试版和正式版两种类型：
 
 - 测试版：免费，App有效期15天，15天后不可用；
 - 正式版：按次收费，腾讯云版:2400元/次 蚂蚁⼩程序云版:600元/次 (应用打包重新发布都需要重新加固)；

## 使用指南

1. 使用开发者账号登录[开发者中心](https://dev.dcloud.net.cn/) ，选择`uni安全加固`栏目。阅读uni加固服务协议并点击协议下方的“同意协议并开通”按钮，便可开通uni加固服务。

![](https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/app-reinforce/20230822001.png)

2. 开通成功后，前往`加固记录`栏目，点击"新增加固"按钮，将打开一个新页面，用于填写加固信息。建议先选择`测试版`，待加固包送检满足需求后再选择`正式版`。

![](https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/app-reinforce/20231208_01.png)

3. 如果选择`正式版`，您需要提前充值。

![](https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/app-reinforce/20230822002_02.png)




## 常见问题@question
**uni加固怎么收费的?**

分为测试版和正式版两种类型：
 
 - 测试版：免费，App有效期15天，15天后不可用；
 - 正式版：按次收费，腾讯云版:2400元/次 蚂蚁⼩程序云版:600元/次 (应用打包重新发布都需要重新加固)；

**uni加固能解决检测报告中的哪些风险?**

 [查看详情](https://ask.dcloud.net.cn/article/40855)

**uni加固是否能去除应用报毒?**
 
 不能
 
**APP加固后，会影响wgt热更新吗?**
 
 不影响
 
**上传之前apk已经签过名了，为什么加固后又要重新签一次？**

加固之后会破坏apk原有的签名，所以需要重新签名，否则无法安装。

**为什么重签名需要和加固前保持一致？**

如果不保持一致，则会触发加固的防二次打包功能，无法正常运行。

 **uni加固过程中常见报错**
 
  - 应用存在安全风险:选择腾讯云加固时，如果应用被扫描出病毒，则无法完成加固
  - 加固工具执行vmp加固过程出错:选择腾讯云加固时，如果profile.txt类文件内容填写错误，则无法完成加固，请按照页面提示重新填写
  - 加固过程出错:选择蚂蚁小程序云加固时，如果So文件、Assets资源文件、Java2C这几项内容填写错误，则无法完成加固，请按照页面提示重新填写
  
 **爱加密等检测机构无法识别蚂蚁加固厂商**
 
 可以下载逆向工具：jadx，拖拽APK包到工具的主界面中，可以看到源代码被加密或混淆了，然后向检测机构申诉，告知加固使用了蚂蚁厂商。
 
 
**选择蚂蚁加固后应用上架华为应用商店失败**

  `你好，加固包华为审核提示：
经检测发现，您的应用中集成了com.alipay支付宝lmPaaS|阿里乘车码芝麻认证实人认证。等SDK，但未在应用内的隐私政策/在AppGallery Connect上提交的隐私政策内容中进行明示，不符合华为应用市场审核标准.`

解决方案:

向应用商店平台提出申诉，把加固前的APK包反编译后的结果、加固后的APK包反编译后的结果分别截图提供给检测方。如果申诉麻烦可以尝试在隐私政策中标明您使用了蚂蚁加固技术对APK进行了加固看是否审核通过。
 






